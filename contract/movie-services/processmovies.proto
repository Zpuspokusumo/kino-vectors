syntax = "proto3";

package MovieService;

option go_package = "golang/movie-services";

message MovieInfo {
  string id = 1;
  string title = 2;
  string director = 3;
  uint32 year = 4;
  repeated string genre = 5;
  repeated string actors = 6;
  string summary = 7;
  string image = 8;
}

message MovieInfos {
  repeated MovieInfo Movies= 1;
}

/*
class MovieInfo:
    def __init__(self, title="", director="", year="", genre="", actors=None, summary=""):
        self.title = title
        self.director = director
        self.year = year
        self.genre = genre
        self.actors = actors if actors else []
        self.summary = summary

*/

message ProcessMovieResponse {
  int32 status = 1;
  string message = 2;
  int32 items_processed = 3;
  repeated string unprocessed_items = 4;
}

message RecommendMoviesRequest {
  string text_query = 1;
  repeated string genres = 2;
  string year_gte = 3;
  string year_lte = 4;
  uint32 quantity = 5;
}

message RecommendMoviesResponse {
  int32 status = 1;
  int32 quantity = 2;
  repeated MovieInfo Movies= 3;
}

service MovieService {
  rpc ProcessMovieSingular (MovieInfo) returns (ProcessMovieResponse);

  rpc ProcessMoviesMultiple (MovieInfos) returns (ProcessMovieResponse);

  rpc RecommendMovies (RecommendMoviesRequest) returns (RecommendMoviesResponse);
}